<div>
  <div [ngClass]="'flex'">
    <div [ngClass]="'statusStyle'">
      Status
      <select [(ngModel)]="interventionService.selectStatus" (change)="interventionService.onStatusChange()">
        <!--          TODO: use id instead of name in value-->
        <!--          DONE:-->
        <option [value]="'0'" selected>All Statuses</option>
        <option *ngFor="let currentWorkflow of workflowService.workflowStates"
                [value]="currentWorkflow.WFSTATEID">{{currentWorkflow.name["3"]}}</option>
      </select>
    </div>

    <div>
      <button [ngClass]="'searchButtonStyle'">Create New Intervention</button>
    </div>
  </div>

  <table>
    <thead>
    <tr>
      <th>Code of the Intervention<br><br>
        <button (click)="interventionService.sortInterventionList('InterventionCode', true)">↑</button>
        <button (click)="interventionService.sortInterventionList('InterventionCode', false)">↓</button>
      </th>
      <th>Short Name<br><br>
        <button (click)="interventionService.sortInterventionList('ShortName', true)">↑</button>
        <button (click)="interventionService.sortInterventionList('ShortName', false)">↓</button>
      </th>
      <th>Official Intervention Name<br><br>
        <button (click)="interventionService.sortInterventionList('CommericalName', true)">↑</button>
        <button (click)="interventionService.sortInterventionList('CommericalName', false)">↓
        </button>
      </th>
      <th>Country<br><br>
        <button (click)="interventionService.sortInterventionList('Country', true)">↑</button>
        <button (click)="interventionService.sortInterventionList('Country', false)">↓</button>
      </th>
      <th>Status<br><br>
        <button (click)="interventionService.sortInterventionList('Status', true)">↑</button>
        <button (click)="interventionService.sortInterventionList('Status', false)">↓</button>
      </th>
      <th>Last Updated By<br><br>
        <button (click)="interventionService.sortInterventionList('User', true)">↑</button>
        <button (click)="interventionService.sortInterventionList('User', false)">↓</button>
      </th>
      <th>Last Updated On<br><br>
        <button (click)="interventionService.sortInterventionList('UpdateOn', true)">↑</button>
        <button (click)="interventionService.sortInterventionList('UpdateOn', false)">↓</button>
      </th>
    </tr>

    <tr hover *ngFor="let currentIntervention of interventionService.filteredInterventions">
      <td><a href="">{{currentIntervention.InterventionCode}}</a></td>
      <td>{{currentIntervention.ShortName}}</td>
      <td>{{currentIntervention.CommericalName}}</td>
      <td>{{currentIntervention.InterventionCountryID | getName: "Country"}}</td>
      <td>{{currentIntervention.workflowStateId | getName : "Workflow"}}</td>
      <td>{{currentIntervention.UpdatedUserID | getName : "User"}}</td>
      <td>{{currentIntervention.DateUpdated | date : "dd/MM/yyy"}}</td>
    </tr>
    </thead>
  </table>

</div>


